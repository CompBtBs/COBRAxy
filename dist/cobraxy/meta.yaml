{% set name = "cobraxy" %}
{% set version = "0.1.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: file:///C:/Users/f.lapi/Documents/GitHub/COBRAxy/dist/cobraxy-0.1.0.tar.gz
  sha256: 9445b95e62cfe5233c29baabd5c02a7732d3d096cccdd99cfea13948d1509d9e

build:
  entry_points:
    - importMetabolicModel=importMetabolicModel:main
    - exportMetabolicModel=exportMetabolicModel:main
    - ras_generator=ras_generator:main
    - rps_generator=rps_generator:main
    - marea_cluster=marea_cluster:main
    - marea=marea:main
    - ras_to_bounds=ras_to_bounds:main
    - flux_simulation=flux_simulation:main
    - flux_to_map=flux_to_map:main
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv --no-build-isolation
  number: 0

requirements:
  host:
    - python >=3.8,<3.14
    - pip
    - setuptools
    - cmake
    - pkg-config
  run:
    - python >=3.8,<3.14
    - cairosvg >=2.7.0
    - cobra >=0.29.0
    - joblib >=1.3.0
    - lxml >=5.0.0
    - matplotlib-base >=3.7.0
    - numpy >=1.24.0
    - pandas >=2.0.0
    - pyvips >=2.2.0
    - scikit-learn >=1.3.0
    - scipy >=1.11.0
    - seaborn >=0.13.0
    - svglib >=1.5.0
    - anndata >=0.8.0
    - pydeseq2 >=0.4.0
    - cmake
    - pkg-config

test:
  imports:
    - utils
    - importMetabolicModel
    - exportMetabolicModel
    - ras_generator
    - rps_generator
    - marea_cluster
    - marea
    - ras_to_bounds
    - flux_simulation
    - flux_to_map
  commands:
    - pip check
    - importMetabolicModel --help
    - exportMetabolicModel --help
    - ras_generator --help
    - rps_generator --help
    - marea_cluster --help
    - marea --help
    - ras_to_bounds --help
    - flux_simulation --help
    - flux_to_map --help
  requires:
    - pip

about:
  home: https://github.com/CompBtBs/COBRAxy
  summary: A Python-based command-line suite for metabolic flux analysis and visualization
  description: |
    COBRAxy transforms gene expression and metabolite data into meaningful metabolic insights 
    through flux sampling and interactive pathway maps. It provides tools for computing reaction 
    activity scores (RAS), reaction propensity scores (RPS), flux sampling, and statistical analysis.
  doc_url: https://compbtbs.github.io/COBRAxy
  dev_url: https://github.com/CompBtBs/COBRAxy
  license: MIT
  license_file: LICENSE

extra:
  recipe-maintainers:
    - Francesco2304
